!function(){function t(t){return t<-Math.PI?t+2*Math.PI:t>Math.PI?t-2*Math.PI:t}function e(t,e,r){var a=Math.max(0,Math.min(1,(r-t)/(e-t)));return a*a*(3-2*a)}function r(t){return(t<=9?"0":"")+t}function a(t,e){var r=t[0]-e[0],a=t[1]-e[1];return Math.sqrt(r*r+a*a)}function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function n(t,e,r){var a=t[0]-e[0],o=t[1]-e[1];return a*a+o*o<r*r}function i(t,e){xt.beginPath();for(var r=1,a=0;t&&a<t.length;++a){var o=t[a];o?(r?xt.moveTo(o[0],o[1]):xt.lineTo(o[0],o[1]),r=0):r=1}e||xt.closePath()}function s(t,e,r){var a=11*e*t.length;xt.translate(r?r>0?0:-a:-a/2,0);for(var o=0;o<t.length;o++)i(dt[t[o]]&&dt[t[o]].map(function(t){return t&&[4*e*t[0],5*e*t[1]]}),1),xt.lineJoin="round",xt.stroke(),xt.translate(11*e,0)}function f(t,e){var r,a=Pt.VERTEX_SHADER,o=t;r=Pt.createShader(a),Pt.shaderSource(r,o),Pt.compileShader(r);var n=r;if(lt&&!Pt.getShaderParameter(r,Pt.COMPILE_STATUS))throw Pt.getShaderInfoLog(r);a=Pt.FRAGMENT_SHADER,o=e,r=Pt.createShader(a),Pt.shaderSource(r,o),Pt.compileShader(r);var i=r;if(lt&&!Pt.getShaderParameter(r,Pt.COMPILE_STATUS))throw Pt.getShaderInfoLog(r);var s=Pt.createProgram();if(Pt.attachShader(s,n),Pt.attachShader(s,i),Pt.linkProgram(s),lt&&!Pt.getProgramParameter(s,Pt.LINK_STATUS))throw Pt.getProgramInfoLog(s);Pt.useProgram(s);var f=Pt.getAttribLocation(s,"p");return Pt.enableVertexAttribArray(f),Pt.vertexAttribPointer(f,2,Pt.FLOAT,!1,0,0),[s]}function h(t){Pt.useProgram(t[0])}function l(t,e){return t[e]||(t[e]=Pt.getUniformLocation(t[0],e))}function v(){var t=Pt.createTexture();return Pt.bindTexture(Pt.TEXTURE_2D,t),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_MIN_FILTER,Pt.LINEAR),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_MAG_FILTER,Pt.LINEAR),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_WRAP_S,Pt.CLAMP_TO_EDGE),Pt.texParameteri(Pt.TEXTURE_2D,Pt.TEXTURE_WRAP_T,Pt.CLAMP_TO_EDGE),t}function m(t,e){Pt.bindTexture(Pt.TEXTURE_2D,t),Pt.texImage2D(Pt.TEXTURE_2D,0,Pt.RGBA,Pt.RGBA,Pt.UNSIGNED_BYTE,e)}function M(t,e){return Pt.activeTexture(Pt.TEXTURE0+e),Pt.bindTexture(Pt.TEXTURE_2D,t),e}function p(){var t=Pt.createFramebuffer();Pt.bindFramebuffer(Pt.FRAMEBUFFER,t);var e=v();return Pt.texImage2D(Pt.TEXTURE_2D,0,Pt.RGBA,_t,Gt,0,Pt.RGBA,Pt.UNSIGNED_BYTE,null),Pt.framebufferTexture2D(Pt.FRAMEBUFFER,Pt.COLOR_ATTACHMENT0,Pt.TEXTURE_2D,e,0),[t,e]}function E(t){Pt.bindFramebuffer(Pt.FRAMEBUFFER,t[0])}function A(t){return t[1]}function b(){this.ss=function(t){for(var e=0;e<24;e++)this[String.fromCharCode(97+e)]=t[e]||0;this.c<.01&&(this.c=.01);var r=this.b+this.c+this.e;if(r<.18){var a=.18/r;this.b*=a,this.c*=a,this.e*=a}}}function T(){this._p=new b;var t,e,r,a,o,n,i,s,f,c,h,l;this.r=function(){var t=this._p;a=100/(t.f*t.f+.001),o=100/(t.g*t.g+.001),n=1-t.h*t.h*t.h*.01,i=-t.i*t.i*t.i*1e-6,t.a||(h=.5-t.n/2,l=5e-5*-t.o),s=1+t.l*t.l*(t.l>0?-.9:10),f=0,c=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.tr=function(){this.r();var a=this._p;return t=a.b*a.b*1e5,e=a.c*a.c*1e5,r=a.e*a.e*1e5+12,3*((t+e+r)/3|0)},this.sw=function(u,v){var m=this._p,M=1!=m.s||m.v,d=m.v*m.v*.1,p=1+3e-4*m.w,E=m.s*m.s*m.s*.1,g=1+1e-4*m.t,A=1!=m.s,b=m.x*m.x,T=m.g,R=m.q||m.r,S=m.r*m.r*m.r*.2,x=m.q*m.q*(m.q<0?-1020:1020),I=m.p?32+((1-m.p)*(1-m.p)*2e4|0):0,P=m.d,D=m.j/2,y=m.k*m.k*.01,k=m.a,w=t,L=1/t,N=1/e,O=1/r,_=5/(1+m.u*m.u*20)*(.01+E);_>.8&&(_=.8),_=1-_;for(var G,C,F,U,B,Y,H=!1,W=0,X=0,q=0,K=0,j=0,J=0,V=0,z=0,Q=0,Z=0,$=new Array(1024),tt=new Array(32),et=$.length;et--;)$[et]=0;for(var et=tt.length;et--;)tt[et]=2*Math.random()-1;for(var et=0;et<v;et++){if(H)return et;if(I&&++Q>=I&&(Q=0,this.r()),c&&++f>=c&&(c=0,a*=s),n+=i,a*=n,a>o&&(a=o,T>0&&(H=!0)),C=a,D>0&&(Z+=y,C*=1+Math.sin(Z)*D),C|=0,C<8&&(C=8),k||(h+=l,h<0?h=0:h>.5&&(h=.5)),++X>w)switch(X=0,++W){case 1:w=e;break;case 2:w=r}switch(W){case 0:q=X*L;break;case 1:q=1+2*(1-X*N)*P;break;case 2:q=1-X*O;break;case 3:q=0,H=!0}R&&(x+=S,F=0|x,F<0?F=-F:F>1023&&(F=1023)),M&&p&&(d*=p,d<1e-5?d=1e-5:d>.1&&(d=.1)),Y=0;for(var rt=8;rt--;){if(++V>=C&&(V%=C,3==k))for(var at=tt.length;at--;)tt[at]=2*Math.random()-1;switch(k){case 0:B=V/C<h?.5:-.5;break;case 1:B=1-V/C*2;break;case 2:U=V/C,U=6.28318531*(U>.5?U-1:U),B=1.27323954*U+.405284735*U*U*(U<0?1:-1),B=.225*((B<0?-1:1)*B*B-B)+B;break;case 3:B=tt[Math.abs(32*V/C|0)]}M&&(G=J,E*=g,E<0?E=0:E>.1&&(E=.1),A?(j+=(B-J)*E,j*=_):(J=B,j=0),J+=j,K+=J-G,K*=1-d,B=K),R&&($[z%1024]=B,B+=$[(z-F+1024)%1024],z++),Y+=B}Y*=.125*q*b,u[et]=Y>=1?32767:Y<=-1?-32768:32767*Y|0}return v}}function R(t,e,r){Tt._p.ss(t);var a=Tt.tr(),o=new Uint8Array(4*((a+1)/2|0)+44),n=2*Tt.sw(new Uint16Array(o.buffer,44),a),i=new Uint32Array(o.buffer,0,44);i[0]=1179011410,i[1]=n+36,i[2]=1163280727,i[3]=544501094,i[4]=16,i[5]=65537,i[6]=44100,i[7]=88200,i[8]=1048578,i[9]=1635017060,i[10]=n,n+=44;for(var s=0,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="data:audio/wav;base64,";s<n;s+=3){var h=o[s]<<16|o[s+1]<<8|o[s+2];c+=f[h>>18]+f[h>>12&63]+f[h>>6&63]+f[63&h]}return e&&e.decodeAudioData(o.buffer,r),c}function S(){var t=window.innerWidth,e=window.innerHeight;if(t!=Bt||e!=Yt){Bt=t,Yt=e;var r=kt/t,a=(wt+20)/e;ee=1/Math.max(r,a),!ut&&ee>1&&(ee=1),d.style.webkitTransform=d.style.transform="scale("+ee+")",d.style.top=Math.max(10,Math.floor((e-(wt+20)*ee)/2))+"px",d.style.left=Math.max(0,Math.floor((t-kt*ee)/2))+"px"}}function x(){return We&&Me[0]&&be>8e3}function I(t){ut&&!mr&&d.webkitRequestFullScreen&&(d.webkitRequestFullScreen(),mr=1);var e=c.getBoundingClientRect(),r=(t.clientX-e.left)/ee,a=(t.clientY-e.top)/ee;Zt?280<a&&a<400&&(_t/2-180<r&&r<_t/2-20?open("https://twitter.com/intent/tweet?via=greweb&url="+encodeURIComponent(location.href)+"&text="+encodeURIComponent("Reached Level "+Re+" ("+25*Re+"¢) with "+$t[0]+"⬠ "+$t[1]+"ᐃ "+$t[2]+"🝞")):_t/2+20<r&&r<_t/2+180&&location.reload()):Ke?be>0&&170<a&&a<310&&(r<_t/2?(Re=Ke-1,be=Ke=0,$t=localStorage.ba_ach.split(",").map(function(t){return parseInt(t,10)})):be=Ke=0):te=[r,a]}function P(t){t[0]+=t[2]*Vt,t[1]+=t[3]*Vt}function D(t){var e=Math.cos(t[2]),r=Math.sin(t[2]),a=Vt*t[3];t[0]+=a*e,t[1]+=a*r}function y(t,e,r){(t[0]<-100||t[1]<-100||t[0]>_t+100||t[1]>Gt+100)&&r.splice(e,1)}function k(t,e,r){(t[4]-=Vt)<0&&r.splice(e,1)}function w(t){t[0]<0?t[0]+=_t:t[0]>_t&&(t[0]-=_t),t[1]<0?t[1]+=Gt:t[1]>Gt&&(t[1]-=Gt)}function L(e){function r(e,r){var a=t(e-le[4]),o=Math.abs(a);o>Math.PI/2?(r&&(Ie=o>Math.PI/2-.4?r>0?-1:1:0),Pe=a>0?-1:1):(r&&(Ie=o<.4?r<0?-1:1:0),Pe=a<0?-1:1)}function n(t,e){return t[0]*e[0]+t[1]*e[1]}function i(t,e,r){var a=[t[0]-e[0],t[1]-e[1]],o=n(a,r)/n(r,r);return[e[0]+o*r[0],e[1]+o*r[1]]}function s(e,a){var n=[e[0]-le[0],e[1]-le[1]],i=Math.atan2(n[1],n[0]),s=o(n);if(a&&v>.003*s&&Math.abs(t(i-m))<Math.PI/3){var f=o(a);n[0]+=100*a[0]/f,n[1]+=100*a[1]/f,i=Math.atan2(n[1],n[0]),r(i,1)}else r(i,-1)}function f(t,e,r,a){var o=[r[0]-e[0],r[1]-e[1]],i=n(a,a)-t*t,s=2*n(a,o),f=n(o,o),c=-s/(2*i),h=Math.sqrt(s*s-4*i*f)/(2*i),l=c-h,u=c+h,v=l>u&&u>0?u:l;return[v,[r[0]+a[0]*v,r[1]+a[1]*v]]}var c,h,l,u,v=Math.sqrt(le[2]*le[2]+le[3]*le[3]),m=Math.atan2(le[3],le[2]),M=[_t/2,Gt/2],d=0,p=.3,E=.1,g=0;for(c=0;c<ue.length;++c){var A=ue[c],b=[A[3]*Math.cos(A[2]),A[3]*Math.sin(A[2])],T=n([le[0]-A[0],le[1]-A[1]],b)/n(b,b),R=[A[0]+T*b[0],A[1]+T*b[1]],S=a(le,R),x=S-10-10*A[5],I=Math.exp(-x/40)+Math.exp(-x/120)+T>0?Math.exp(-T/1e3):0;if(I>p&&(p=I,h=A,d++),(I=Math.exp(-(A[5]-1))*Math.exp(-x/200))>E){var P=f(.3,le,A,b),D=P[0],y=P[1];0<y[0]&&y[0]<_t&&0<y[1]&&y[1]<Gt&&D<800&&(l=y,E=I)}}for(c=0;c<me.length;++c){var k=me[c];b=k.slice(2),T=n([le[0]-k[0],le[1]-k[1]],b)/n(b,b),R=[k[0]+T*b[0],k[1]+T*b[1]],S=a(le,R),I=Math.exp(-T/1e3)+2*Math.exp(-S/50),100<T&&T<1e3&&S<40&&I>g&&(g=I,u=R)}for(c=0;c<ve.length;++c){var w=ve[c];P=f(.3,le,w,w.slice(2)),D=P[0],y=P[1],l=y}De=1-Math.exp(-ue.length/10)+(1-Math.exp(-d/3)),xe=be>3e3&&Math.random()<.001*Vt*(1-e),Pe=be>1e3&&Math.random()<.002*Vt?Math.random()<.6?0:Math.random()<.5?-1:1:Pe,Ie=be>2e3&&Math.random()<.004*Vt?Math.random()<.7?0:Math.random()<.5?-1:1:Ie,.1+e>Math.random()&&function(t,e){var a=t[0]-le[0],n=t[1]-le[1];if(!(a*a+n*n<e*e)){var i=a/800,s=n/800,f=i-le[2],c=s-le[3];r(Math.atan2(c,f),o([f,c]))}}(M,30),e>Math.random()&&(l?(xe=Math.abs(function(e){var r=t(e-le[4]);return Pe=r<0?-1:1,r}(Math.atan2(l[1]-le[1],l[0]-le[0])))<.1&&Math.random()<.04*Vt,dr=l,Er=D):xe=0),e>Math.random()&&(h&&(!function(t){var e=[t[3]*Math.cos(t[2]),t[3]*Math.sin(t[2])],r=i(le,t,e),o=30+10*t[5];a(r,le)>o||s(r,e)}(h),Mr=h,pr=h),u&&s(u))}function N(t){for(var e=4+2*t,r=10*t,a=[],o=0;o<e;++o){var n=r*(.4+.6*Math.random()),i=2*Math.PI*o/e;a.push([n*Math.cos(i),n*Math.sin(i)])}return a}function O(){ue=[];for(var t=0;t<8;++t){var e=Math.floor(1.5+3*Math.random());ue[t]=[_t*Math.random(),Gt*Math.random(),2*Math.PI*Math.random(),.02+.02*Math.random(),N(e),e]}}function _(t){var e=ue[t];ue.splice(t,1);var r=e[5];if(r>1)for(var a=Math.round(2+1.5*Math.random()),o=0;o<a;o++){var n=Math.random()+2*Math.PI*o/a;ue.push([e[0]+10*Math.cos(n),e[1]+10*Math.sin(n),n,.5*e[3],N(r-1),r-1])}}function G(t){if(Ar.push(t[7]),Math.abs(Math.cos(t[2]))<t[9]){var e=F(t),r=B(t),a=Math.max(0,Math.min(e[0],_t)),o=Math.max(0,Math.min(e[1],Gt)),n=(ut?.006:.008)*t[3],i=t[6],s=t[5];return ue.push([a,o,r,n,s,i]),bt(or),1}bt(nr)}function C(t){xt.globalAlpha=.2,xt.strokeStyle="#f00",i(t[4]),xt.stroke()}function F(t){var e,r,a=t[0]%Ct,o=_t+Ot,n=Gt+Ot;a<o?(e=a,r=0):(a-=o,a<n?(e=o,r=a):(a-=n,a<o?(e=o-a,r=n):(a-=o,e=0,r=n-a)));var i=[-Ot/2+e,-Ot/2+r];if(t[10]){var s=he-t[10],f=Math.atan2(le[1]-i[1],le[0]-i[0]),c=.3*s;i[0]-=Math.cos(f)*c,i[1]-=Math.sin(f)*c}return i}function U(t){var e=F(t);return Math.atan2(le[1]-e[1],le[0]-e[0])}function B(t){return Math.cos(t[2])*t[8]+U(t)}function Y(){var t=Me.reduce(function(t,e){return e[6]},0);if(gr<he&&Math.random()<.01*Vt*Math.exp(-t*(1+5*Math.exp(-(Re-1)/3)-.2*Math.exp(-Math.abs(Re-20)/20)))*(1-Math.exp(-be/5e3)))return gr=he+1e3*(1+Math.random()),H()}function H(){if(!Ar.length)return 0;for(var t=Math.random()*Ct,e=Ar.shift(),r=0;r<Me.length;++r){var a=Me[r],o=a[0]%Ct;if(t-60<o&&o<t+60)return 0}var n=1-Math.exp(-Re/5),i=1-Math.exp((1-Re)/20);Math.random()>n&&(i*=Math.random());var s=i+Math.random()*(n-i),f=i+Math.random()*(n-i),c=i+Math.random()*(n-i),h=Math.floor(2+3*Math.random()*Math.random()+4*Math.random()*Math.random()*Math.random()),l=Re<2?0:Math.PI*(.8*Math.random()+.05*h)*s;l<.2&&(l=0);var u=Re>2&&l>Math.exp(-Re/4)&&Math.random()>.5+(Re-3)%8*.4/8-.5*(1-Math.exp(-Re/10))?.9-.5*f-.2*s:1;return 2==Re&&(l=.2+Math.random()),3==Re&&(l=.2+Math.random(),u=.5+.4*Math.random()),Me.push([t,.1+.002*Re,2*Math.PI*Math.random(),10+40*Math.random(),.002+.001*(Math.random()+.5*h*Math.random()+Math.random()*Re/30)*c-.001*s,N(h),h,e,l,u,0]),1}function W(t){t[10]||(t[0]+=t[1]*Vt,t[2]+=t[4]*Vt,t[3]=t[3]<10?60:t[3]-.02*Vt)}function X(t){var e=U(t),r=Math.cos(t[2]),a=r*t[8]+e,o=10*t[6],n=Math.abs(r)<t[9];if(be>0&&Se&&!pe&&!t[10]){xt.lineWidth=1+t[3]/60,xt.strokeStyle=n?"#7cf":"#f66",t[8]>.1&&(xt.save(),xt.rotate(e),xt.strokeStyle="#f66",xt.beginPath(),xt.arc(0,0,o+10,-t[8],-t[8]*t[9]),xt.stroke(),xt.beginPath(),xt.arc(0,0,o+10,t[8]*t[9],t[8]),xt.stroke(),xt.strokeStyle="#7cf",xt.beginPath(),xt.arc(0,0,o+10,-t[8]*t[9],t[8]*t[9]),xt.stroke(),i([[o+8,0],[o+12,0]]),xt.stroke(),xt.restore()),xt.save(),xt.rotate(a),xt.save();var f=60+o,c=t[3]+o;xt.globalAlpha=.2,i([[0,0],[f,0]]),xt.stroke(),xt.restore(),i([[0,0],[c,0]]),xt.stroke();i([[f-6,6],[f,0],[f-6,-6]],1),xt.stroke(),xt.restore()}else xt.strokeStyle=t[10]?"#f66":"#999";xt.save(),i(t[5]),xt.fillStyle="#000",xt.fill(),xt.stroke(),xt.restore();var h=[0,0];t[5].forEach(function(t){h[0]+=t[0],h[1]+=t[1]}),!ut&&be>0&&(x()&&(xt.strokeStyle="#f7c"),xt.translate(h[0]/t[5].length+1,h[1]/t[5].length-5),s(String.fromCharCode(t[7]),1))}function q(){x()&&(xt.strokeStyle="#f7c",xt.lineWidth=4,Me.forEach(function(t){var e=F(t);xt.beginPath(),xt.arc(e[0],e[1],80+40*Math.cos(.005*he),0,2*Math.PI),xt.stroke()}))}function K(t,e,r){var a=Math.cos(r),o=Math.sin(r);me.push([t[0]+14*a,t[1]+14*o,t[2]+e*a,t[3]+e*o,1e3,0])}function j(){xt.globalAlpha=1-Math.random()*Math.random(),xt.fillStyle="#00f",xt.beginPath(),xt.arc(0,0,2+2.5*Math.random(),0,2*Math.PI),xt.fill()}function J(t){bt(Math.random()<.5?rr:ar);for(var e=Math.floor(19+9*Math.random()),r=0;r<e;++r){var a=30*Math.random()-10,o=(Math.random()+2*Math.PI*r)/e;de.push([t[0]+a*Math.cos(o),t[1]+a*Math.sin(o),o,.06,Math.random()<.3?0:1e3])}}function V(){xt.globalAlpha=.8,xt.fillStyle="#f00",xt.beginPath(),xt.arc(0,0,1,0,2*Math.PI),xt.fill()}function z(){pe||(pe=he,1==Se&&bt(ir),Te++,$t[1]++,Ce++)}function Q(t){if(xt.strokeStyle="#f00",xt.globalAlpha=.4,xt.rotate(t[4]),pe){xt.lineWidth=2;var e=(he-pe)/200;i([[-6,-6-.5*e],[3,-3-.9*e]]),xt.stroke(),e<8&&(i([[3+.4*e,-3-.8*e],[12+.4*e,0-.5*e]]),xt.stroke()),i([[12,0+.4*e],[3,3+e]]),xt.stroke(),e<9&&(i([[1,5+e],[-6,6+e]]),xt.stroke()),e<7&&(i([[-6-e,-6],[-6-e,6]]),xt.stroke())}else i([[-6,-6],[12,0],[-6,6],[-5,0]]),xt.stroke(),ye>.2&&(i([[-7,2*Math.random()-1],[-7-5*ye,4*Math.random()-2]]),xt.stroke()),ye<-.2&&(i([[2,-5],[2-5*ye,-7],,[2,5],[2-5*ye,7]]),xt.stroke())}function Z(t){if(t[4]-=Vt,t[4]<0&&(t[4]=500+300*Math.random(),!pe)){var e=Math.atan2(le[1]-t[1],le[0]-t[0]);if(!t[2]||Math.random()<.2){var r=2*Math.PI*Math.random();t[2]=.08*Math.cos(r),t[3]=.08*Math.sin(r)}K(t,.3+.1*Math.random(),e+.6*Math.random()-.3)}}function $(){xt.globalAlpha=.4,xt.strokeStyle="#f00",i(Ir),xt.stroke()}function tt(t,e){xt.globalAlpha=1,i([[0,0],[160,0],[160,120],[0,120]]),xt.translate(80,30),xt.stroke(),xt.fillStyle="#000",xt.fill(),xt.save(),s(t,2),xt.restore(),xt.save(),xt.translate(0,40),s(e,2),xt.restore()}function et(){if(xt.save(),xt.fillStyle=xt.strokeStyle="#0f0",xt.globalAlpha=.3,Zt)xt.save(),xt.strokeStyle="#0f0",xt.globalAlpha=.3,xt.save(),xt.translate((_t-340)/2,Gt/8),s("YOU EARNED ",2,1),xt.globalAlpha=.5,s(25*Re+"¢",2,1),xt.restore(),xt.save(),xt.translate(_t/2,Gt/4),s("FROM "+Re+" PLAYERS",2),xt.restore(),xt.save(),xt.globalAlpha=.5,xt.translate((_t-200)/2,Gt/2),ot(2),xt.restore(),xt.save(),xt.translate(_t/2-180,Gt-160),tt("TWEET","SCORE"),xt.restore(),xt.save(),xt.translate(_t/2+20,Gt-160),tt("PLAY","AGAIN"),xt.restore(),xt.restore();else if(be<0||Ke)xt.save(),xt.translate(_t-50,20),s(r(0),1.5,-1),xt.restore(),xt.save(),xt.translate(50,70),(!Ke||be>0)&&he%1e3<500&&s("PLAYER "+(Ke||Re+1),2,1),xt.restore(),xt.save(),xt.translate(_t/2-160,.7*Gt),i([[0,2],[0,18]]),xt.stroke(),xt.translate(40,0),s("COIN",2,1),xt.translate(40,0),i([[0,2],[0,18]]),xt.stroke(),xt.translate(40,0),s("PLAY",2,1),xt.restore();else for(var t=1;t<Se;t++)xt.save(),xt.translate(60+10*t,50),xt.rotate(-Math.PI/2),i([[-4,-4],[10,0],[-4,4],[-3,0]]),xt.stroke(),xt.restore();!Zt&&pe&&1==Se&&(xt.save(),xt.lineWidth=2,xt.translate(_t/2,140),s("GAME OVER",2),xt.restore()),!Zt&&Ke&&be>0&&(xt.save(),xt.globalAlpha=1,xt.translate(_t/2,140),s("CONTINUE ?",3),xt.restore(),xt.save(),xt.globalAlpha=1,xt.translate(_t/4,210),s("YES",ut?4:6),xt.restore(),xt.save(),xt.globalAlpha=1,xt.translate(3*_t/4,210),s("NO",ut?4:6),xt.restore()),xt.save(),xt.translate(_t/2,Gt-14),s("2015 GREWEB INC",.6),xt.restore(),Zt||(xt.save(),xt.translate(_t/2,20),s(r(ge),.6),xt.restore(),xt.save(),xt.translate(50,20),s(r(Ae),1.5,1),xt.restore()),(Zt||be<0&&he%1e3<800)&&(xt.save(),xt.translate(_t-20,Gt-24),s(ut?"MOBILE":"DESKTOP",.6,-1),xt.restore(),xt.save(),xt.translate(_t-20,Gt-14),s("VERSION",.6,-1),xt.restore()),xt.restore()}function rt(){xt.save(),xt.fillStyle=xt.strokeStyle="#f00",xt.globalAlpha=.03,xt.translate(_t/2,Gt/2),xt.beginPath(),xt.arc(0,0,4,0,2*Math.PI),xt.fill(),xt.stroke(),xt.beginPath(),xt.arc(0,0,12,0,2*Math.PI),xt.stroke(),xt.beginPath(),xt.arc(0,0,12,4,6),xt.stroke(),xt.beginPath(),xt.arc(0,0,12,1,2),xt.stroke(),xt.restore()}function at(){function t(t){e="PLAYER "+t,r=["GENIOUS PLAYER!!","EXPERIENCED PLAYER!!","GOOD PLAYER. GET READY","NICE PLAYER.","BEGINNER.","VERY BEGINNER. EASY KILL"][Math.floor(6*Math.exp(-t/8))]}var e="",r="",a="#f7c",o="#7fc";if(Zt)e="PLAYER MASTERED THE GAME",r="REACHED ᐃᐃᐃᐃᐃ";else if(Re)pe?1==Se?(o="#f66",e="GOOD JOB !!!",r="THE DUDE IS BROKE"):2==Se?(o="#f66",e="OK...",r="ONE MORE TIME !"):Tr&&he-Dr>3e3?e=Tr:(e=["!!!","GREAT!","COOL!","OMG!","AHAH!","RUDE!","EPIC!","WICKED!","SHAME!","HEHEHE!","BWAHAHA!"],Tr=e=e[Math.floor(Math.random()*e.length)],Dr=0):be<0?(e="INCOMING NEW PLAYER...",r="25¢ 25¢ 25¢ 25¢ 25¢"):be<6e3&&4==Se?t(Re):(o="#f66",Tr&&he-Dr<3e3?r=Tr:We?x()&&(a=o="#f7c",e=ut?"TAP ON ASTEROIDS":"PRESS ASTEROIDS LETTER",r="TO SEND THEM TO THE GAME"):Se>4&&he-ze>5e3?(a=o="#f66",e="DON'T LET PLAYER",r="REACH ᐃᐃᐃᐃᐃ !!!"):Ae>1e4&&he-ze<4500?(a=o="#f66",e="OH NO! PLAYER JUST",r="WON AN EXTRA LIFE!"):2==Re&&5e3<be?(o=a="#7cf",e="LETS TRAIN WITH...",r="AIMING"):3==Re&&5e3<be?(a="#7cf",o="#f66",e="CAREFUL ABOUT THE",r="RED AIMING"):4==Re&&5e3<be&&Xe?(a=o="#f7c",e="MAKE COMBOS TO SEND",r="AN UFO !!!"):Re>5&&(Tr=0,Math.random()<1e-4*Vt&&he-Dr>8e3&&(r=["COME ON! KILL IT!","JUST DO IT!","I WANT ¢¢¢","GIVE ME SOME ¢¢¢","DO IT!","DESTROY IT!"],Tr=r=r[Math.floor(Math.random()*r.length)],Dr=he)));else if(be<-7e3)e="BEHIND ASTEROIDS",r="THE DARK SIDE";else if(be<-3500)a=o="#7cf",e="SEND ASTEROIDS TO MAKE",r="PLAYERS WASTE THEIR MONEY";else if(Ke)be<0&&(be=0),t(Ke);else{for(var n=Math.min(25,Math.floor((be+3500)/80)),i=0;i<n;i++)e+=".";be>-2e3&&(r="A NEW PLAYER!")}!r||Rr===r||"#f66"!=o&&"#f7c"!=o||bt(cr),xt.save(),xt.translate(Lt,ut?40:2),xt.lineWidth=he%600>300?2:1,xt.save(),xt.strokeStyle=a,s(e,ut?1.5:2,1),xt.restore(),xt.save(),xt.strokeStyle=o,xt.translate(0,ut?30:40),s(Rr=r,ut?1.5:2,1),xt.restore(),xt.restore(),Zt||(xt.save(),xt.translate(kt-Lt,2),xt.lineWidth=2,xt.strokeStyle="#7cf",s(25*(be>0&&Ke||Re)+"¢",2,-1),xt.restore(),xt.save(),xt.globalAlpha=Ue?1:.6,xt.strokeStyle="#7cf",xt.translate(kt-Lt,wt-30),qe&&s(qe+"x",1.5,-1),xt.restore(),$t&&(xt.save(),xt.translate(Lt+50,wt-20),xt.strokeStyle="#fc7",ot(1),xt.restore()))}function ot(t){for(var e=0;e<3;e++){var r=$t[e];r&&(xt.save(),xt.translate(100*e,0),i(Pr[e]),xt.stroke(),xt.translate(0,-20-10*t),s(""+r,t),xt.restore())}}function nt(){m(ce,g),E(ie),h(qt),Pt.uniform1i(l(qt,"t"),M(ce,0)),Pt.drawArrays(Pt.TRIANGLES,0,6),E(oe),h(Jt),Pt.uniform1f(l(Jt,"pt"),be/1e3),Pt.uniform1f(l(Jt,"pl"),Re),Pt.uniform1f(l(Jt,"ex"),Zt||He),Pt.uniform1f(l(Jt,"J"),we),Pt.uniform1f(l(Jt,"P"),be<0||Zt||pe?0:1),Pt.drawArrays(Pt.TRIANGLES,0,6),E(se),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(oe),0)),Pt.uniform2f(l(Wt,"dir"),2,2),Pt.drawArrays(Pt.TRIANGLES,0,6),E(fe),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(se),0)),Pt.uniform2f(l(Wt,"dir"),-2,2),Pt.drawArrays(Pt.TRIANGLES,0,6),E(se),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(fe),0)),Pt.uniform2f(l(Wt,"dir"),6,0),Pt.drawArrays(Pt.TRIANGLES,0,6),E(oe),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(se),0)),Pt.uniform2f(l(Wt,"dir"),0,2),Pt.drawArrays(Pt.TRIANGLES,0,6),E(ne),h(jt),Pt.uniform1i(l(jt,"t"),M(A(ie),0)),Pt.drawArrays(Pt.TRIANGLES,0,6),E(se),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(ne),0)),Pt.uniform2f(l(Wt,"dir"),2,-4),Pt.drawArrays(Pt.TRIANGLES,0,6),E(ne),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(se),0)),Pt.uniform2f(l(Wt,"dir"),4,-8),Pt.drawArrays(Pt.TRIANGLES,0,6),E(se),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(ie),0)),Pt.uniform2f(l(Wt,"dir"),.5,.5),Pt.drawArrays(Pt.TRIANGLES,0,6),E(fe),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(se),0)),Pt.uniform2f(l(Wt,"dir"),-.5,.5),Pt.drawArrays(Pt.TRIANGLES,0,6),E(se),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(fe),0)),Pt.uniform2f(l(Wt,"dir"),1,0),Pt.drawArrays(Pt.TRIANGLES,0,6),E(fe),h(Wt),Pt.uniform1i(l(Wt,"t"),M(A(se),0)),Pt.uniform2f(l(Wt,"dir"),0,1),Pt.drawArrays(Pt.TRIANGLES,0,6),E(se),h(Kt),Pt.uniform1i(l(Kt,"t"),M(A(fe),0)),Pt.uniform1i(l(Kt,"r"),M(A(ae),1)),Pt.drawArrays(Pt.TRIANGLES,0,6),E(ae),h(Xt),Pt.uniform1i(l(Xt,"t"),M(A(se),0)),Pt.drawArrays(Pt.TRIANGLES,0,6),Pt.bindFramebuffer(Pt.FRAMEBUFFER,null),h(re),Pt.uniform1i(l(re,"G"),M(A(ie),0)),Pt.uniform1i(l(re,"R"),M(A(ae),1)),Pt.uniform1i(l(re,"B"),M(A(fe),2)),Pt.uniform1i(l(re,"L"),M(A(ne),3)),Pt.uniform1i(l(re,"E"),M(A(oe),4)),Pt.uniform1f(l(re,"s"),Re?1:e(-4e3,-3e3,be)),Pt.uniform1f(l(re,"F"),e(300,0,he-Qe)+!Zt&&Se>4?.5*e(-1,1,Math.cos(.01*he)):0),Pt.uniform2f(l(re,"k"),ke[0],ke[1]),Pt.drawArrays(Pt.TRIANGLES,0,6)}function it(t){requestAnimationFrame(it),yr||(yr=t),Vt=Math.min(100,t-yr),yr=t,he-kr>200&&S(),he+=Vt,st(),xt=yt,xt.save(),xt.scale(Ut,Ut),xt.save(),xt.clearRect(0,0,kt,wt),at(),xt.translate(Lt,Nt),Me.forEach(function(t){xt.save(),ct(F(t)),X(t),xt.restore()}),q(),xt.restore(),xt.restore(),xt=Dt,xt.save(),ft(),xt.restore(),nt()}function st(){if(be+=Vt,he-Ye>1200&&(Ye=he,ve[0]&&bt(hr)),!Zt&&!Ke){be>0&&!$t&&($t=[0,0,0]);var r,a=0;if(!pe&&be>0&&he-Be>5e3&&Re>2&&!ve.length){Qt=Math.floor(30-25*Math.exp(-(Re-3)/15));var o=3*qe/Qt;qe>Qt&&(Be=he,Xe=qe=0,ve.push([_t*Math.random(),Gt*Math.random(),0,0,0]),$t[2]++),Fe+=2*o*Math.PI*Vt/1e3,Math.sin(Fe)>0!==Ue&&(Ue=!Ue,bt(Ue?tr:er))}if(0==Se&&be>0&&(Ee=he,Se=4,Re++,Ae=0,zt=1e4,_e=0,Le=0,ue=[],ve=[],bt(fr),Re>1&&(localStorage.ba_pl=Re,localStorage.ba_ach=$t)),be>1e3&&!pe){for(r=0;r<Me.length;r++){var i=Me[r];if(i[10])he-i[10]>1e3&&Me.splice(r--,1);else{var s=F(i),f=te&&n(te,s,(ut?60:20)+10*i[6]);(Ze[i[7]]||f)&&(We=te=Ze[i[7]]=0,G(i)?($t[0]++,Re>3&&qe++,Me.splice(r--,1)):(Ae+=5e3,qe=0,Qe=i[10]=he))}}for(te=0;Y(););}if(pe&&he-pe>2e3+(Se>1?0:2e3)&&(pe=0,le=[_t/2,Gt/2,0,0,0],--Se?Ee=he:(be=-5e3,O(),ve=[],setTimeout(function(){bt(sr)},1e3))),Ae>=zt&&(ze=he,Se++,zt+=1e4,bt(lr),Se>5&&(Zt=1,Me=[],ve=[],O(),localStorage.ba_pl=0)),!pe&&be>0&&he-je>100&&(Ae+=10,je=he),ge=Math.max(ge,Ae),me.forEach(function(t,e){t[5]||a++;var r;if(t[4]<900){if(!pe&&n(t,le,20))return J(t),me.splice(e,1),void z();for(r=0;r<ve.length;++r){if(n(t,ve[r],20))return J(t),me.splice(e,1),void ve.splice(r,1)}}for(r=0;r<ue.length;++r){var o=ue[r],i=o[5];if(n(t,o,10*i))return J(t),me.splice(e,1),_(r),void(Ae+=50*Math.floor(.4*(6-i)*(6-i)))}}),!pe&&be>0&&ue.forEach(function(t,e){n(t,le,10+10*t[5])&&(he-Ee<200?_(e):(J(le),z()))}),De=0,!pe&&be>0){var c=Math.cos(le[4]),h=Math.sin(le[4]);L(1-Math.exp(-(Re-.8)/14));var l=.004+.003*(1-Math.exp(-Re/40)),u=3e-4-2e-4*Math.exp(-(Re-1)/5)+1e-5*Re,v=100+1e3*Math.exp(-(Re-1)/8)+300*Math.exp(-Re/20);le[2]+=Ie*Vt*u*c,le[3]+=Ie*Vt*u*h,le[4]=t(le[4]+Pe*Vt*l),a<3&&xe&&he-Ve>v&&(Ve=he,bt($e),K(le,.3,le[4]))}}P(le),ue.forEach(D),ve.forEach(P),me.forEach(P),de.forEach(D),ve.forEach(Z),Me.forEach(W),de.forEach(k),w(le),ue.forEach(be>0&&!Ke&&!Zt?y:w),ve.forEach(w),me.forEach(k),me.forEach(w),He+=.04*(De-He),ye+=.04*(Ie-ye),Ce-=3e-4*Vt*Ce,Ge+=.04*(_e-Ge),Oe+=.04*(Le-Oe),Ce>1.3&&_e<.5&&(Le=1+Math.random(),_e++),Ce<.8&&(_e=0);var m=Ne;Ne+=2*Le*Math.PI*Vt/1e3,we=Ge*Math.pow(Math.cos(Ne),2),Math.cos(m)<0&&0<Math.cos(Ne)&&(Le=1+3*Math.random()*Math.random()),_e<.5&&(Ge+=.04*(_e-Ge));var M=_e*Math.pow(e(.2,0,we),.5);M>.5&&he-Je>100&&(bt(ur),Je=he),ke=[30*M*(Math.random()-.5)/kt,30*M*(Math.random()-.5)/wt]}function ft(){xt.save(),xt.fillStyle="#000",xt.fillRect(0,0,_t,Gt),xt.restore(),ht(ue,C),ht(ve,$),ht(me,j),ht(de,V),be>0&&!Ke&&!Zt&&(xt.save(),ct(le),Q(le),xt.restore()),et(),rt()}function ct(t){xt.translate(t[0],t[1])}function ht(t,e){for(var r=0;r<t.length;++r)xt.save(),ct(t[r]),e(t[r]),xt.restore()}var lt=!0,ut="ontouchstart"in document,vt=vt||{};vt.exports={normAngle:t,smoothstep:e,scoreTxt:r,dist:a,length:o,circleCollides:n};var mt=[[0,0],[2,0],[2,2],[0,2],[0,0]],Mt=[[2,0],[0,0],[0,1],[2,1],[2,2],[0,2]],dt=[mt,[[1,0],[1,2]],[[0,0],[2,0],[2,1],[0,1],[0,2],[2,2]],[[0,0],[2,0],[2,2],[0,2],[0,1],[2,1]],[[0,0],[0,1],[2,1],[2,0],[2,2]],Mt,[[0,0],[0,2],[2,2],[2,1],[0,1]],[[0,0],[2,0],[2,2]],[[0,0],[2,0],[2,2],[0,2],[0,0],[0,1],[2,1]],[[2,2],[2,0],[0,0],[0,1],[2,1]]];[[[0,2],[0,2/3],[1,0],[2,2/3],[2,2],[0,4/3],[2,4/3]],[[0,1],[0,0],[4/3,0],[2,1/3],[2,2/3],[4/3,1],[0,1],[0,2],[4/3,2],[2,5/3],[2,4/3],[4/3,1]],[[2,0],[0,0],[0,2],[2,2]],[[0,0],[1,0],[2,2/3],[2,4/3],[1,2],[0,2],[0,0]],[[2,0],[0,0],[0,2],[2,2],[0,1],[1.5,1]],[[2,0],[0,0],[0,2],[0,1],[2,1]],[[2,2/3],[2,0],[0,0],[0,2],[2,2],[2,4/3],[1,4/3]],[[0,0],[0,2],[2,0],[2,2],[0,1],[2,1]],[[0,0],[2,0],[1,0],[1,2],[0,2],[2,2]],[[2,0],[2,2],[1,2],[0,4/3]],[[0,0],[0,2],[2,0],[0,1],[2,2]],[[0,0],[0,2],[2,2]],[[0,2],[0,0],[1,2/3],[2,0],[2,2]],[[0,2],[0,0],[2,2],[2,0]],mt,[[0,2],[0,0],[2,0],[2,1],[0,1]],[[0,0],[2,0],[2,4/3],[1,2],[0,2],[0,0],[2,2],[1,4/3]],[[0,2],[0,0],[2,0],[2,1],[0,1],[2,2]],Mt,[[0,0],[2,0],[1,0],[1,2]],[[0,0],[0,2],[2,2],[2,0]],[[0,0],[1,2],[2,0]],[[0,0],[0,2],[1,4/3],[2,2],[2,0]],[[0,0],[2,2],[2,0],[0,2]],[[0,0],[1,2/3],[2,0],[1,2/3],[1,2]],[[0,0],[2,0],[0,2],[2,2]]].forEach(function(t,e){dt[String.fromCharCode(65+e)]=t});var pt=dt["."]=[[1,1.8],[1,2]];dt[":"]=[[1,0],[1,.2],[1,1.8],[1,2]],dt["'"]=[[1,0],[1,2/3]],dt["ᐃ"]=[[1,0],[1.8,2],[1,1.6],[.2,2],[1,0]],dt["!"]=[[1,0],[1,1.5]].concat(pt),dt["?"]=[[0,0],[2,0],[2,1],[1,1],[1,1.5]].concat(pt),dt.x=[[0,1],[2,2],[2,1],[0,2]],dt["¢"]=[[1,0],[1,2],[1.5,.5],[.5,.5],[.5,1.5],[1.5,1.5]];var Et,gt,At,bt,Tt=new T,Rt=window.AudioContext||window.webkitAudioContext;if(Rt){Et=new Rt,gt=Et.createDynamicsCompressor();var St=Et.createGain();St.gain.value=.1,gt.connect(St),St.connect(Et.destination),At=function(t){var e=[];return R(t,Et,function(t){e.push(t)}),e},bt=function(t){if(t[0]){var e=Et.createBufferSource();e.buffer=t[0],e.start(0),e.connect(gt),setTimeout(function(){e.disconnect(gt)},1e3*t[0].duration+300)}}}else At=bt=function(){};var xt,It="attribute vec2 p;varying vec2 uv;void main(){gl_Position=vec4(p,0.0,1.0);uv=0.5*(p+1.0);}",Pt=c.getContext("webgl")||c.getContext("experimental-webgl"),Dt=g.getContext("2d"),yt=u.getContext("2d"),kt=ut?480:800,wt=ut?660:680,Lt=ut?50:120,Nt=ut?140:Lt,Ot=ut?40:80,_t=kt-2*Lt,Gt=wt-2*Nt,Ct=2*(_t+Gt+2*Ot),Ft=Math.random();d.style.webkitTransformOrigin=d.style.transformOrigin="0 0",g.width=c.width=_t,g.height=c.height=Gt,c.style.top=Nt+"px",c.style.left=Lt+"px";var Ut=devicePixelRatio;u.width=kt*Ut,u.height=wt*Ut,u.style.width=kt+"px",u.style.height=wt+"px";var Bt=0,Yt=0;Pt.viewport(0,0,_t,Gt),Pt.pixelStorei(Pt.UNPACK_FLIP_Y_WEBGL,!0);var Ht=Pt.createBuffer();Pt.bindBuffer(Pt.ARRAY_BUFFER,Ht),Pt.bufferData(Pt.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),Pt.STATIC_DRAW);var Wt=f(It,"precision highp float;varying vec2 uv;uniform sampler2D t;uniform vec2 dim;uniform vec2 dir;void main(){vec4 a=vec4(0.0);vec2 b=vec2(1.3846153846)*dir;vec2 c=vec2(3.2307692308)*dir;a+=texture2D(t,uv)*0.2270270270;a+=texture2D(t,uv+(b/dim))*0.3162162162;a+=texture2D(t,uv-(b/dim))*0.3162162162;a+=texture2D(t,uv+(c/dim))*0.0702702703;a+=texture2D(t,uv-(c/dim))*0.0702702703;gl_FragColor=a;}");Pt.uniform2f(l(Wt,"dim"),_t,Gt);var Xt=f(It,"precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=texture2D(t,uv);}"),qt=f(It,"precision highp float;varying vec2 uv;uniform sampler2D t;void main(){vec3 a=texture2D(t,uv).rgb;vec2 b=0.003*vec2(cos(47.0*uv.y),sin(67.0*uv.x));gl_FragColor=vec4(a.r+a.g+a.b+texture2D(t,uv+b).b);}"),Kt=f(It,"precision highp float;varying vec2 uv;uniform sampler2D t;uniform sampler2D r;void main(){vec3 a=texture2D(r,uv).rgb;gl_FragColor=vec4(a*(0.82-0.3*a.r*a.r)+texture2D(t,uv).rgb,1.0);}"),jt=f(It,"precision highp float;varying vec2 uv;uniform sampler2D t;void main(){gl_FragColor=vec4(step(0.9,texture2D(t,uv).r));}"),Jt=f(It,"precision highp float;varying vec2 uv;uniform float pt;uniform float pl;uniform float S;uniform float ex;uniform float J;uniform float P;float a(vec2 b,vec2 c){return step(length((uv-b)/c),1.0);}float d(vec2 b,vec2 c,float e){vec2 f=(uv-b)/c;return step(pow(abs(f.x),e)+pow(abs(f.y),e),1.0);}vec3 g(){return 0.1+0.3*vec3(1.0,0.9,0.7)*smoothstep(0.4,0.1,distance(uv,vec2(0.2,1.2)))+0.4*vec3(0.8,0.6,1.0)*smoothstep(0.5,0.2,distance(uv,vec2(1.3,0.7)));}vec4 h(float e,float i){vec4 b=vec4(0.0);vec2 j=vec2(min(ex,1.0),mix(min(ex,1.0),min(ex-1.0,1.0),0.5));vec4 k=0.2+0.4*pow(abs(cos(4.*e+S)),2.0)*vec4(1.0,0.7,0.3,1.0);vec4 l=vec4(0.5,0.3,0.3,1.0);vec4 m=vec4(0.3*(1.0+cos(3.*e+6.*S)),0.2*(1.0+cos(7.*e+7.*S)),0.1+0.2*(1.0+sin(7.*e+8.*S)),1.0);float n=step(sin(9.0*e+S),0.0);float o=0.02+0.02*n*cos(e+S);float p=step(i,-0.01)+step(0.01,i);float q=(1.0-p)*step(0.0,pt);vec2 r=vec2(0.5)+J*vec2(0.0,0.2)+p*vec2(0.03*cos(4.0*pt+sin(pt)),0.05*abs(sin(3.0*pt)))+j*q*(1.0-P)*vec2(0.05*cos(pt*(1.0+0.1*sin(pt))),0.05*abs(sin(pt)));vec2 s=mix(r,vec2(0.5),0.5);r.x+=i;s.x+=i;b+=k*a(r,vec2(0.06,0.1));b*=1.0-(0.5+0.5*n)*a(r-vec2(0.0,0.04),vec2(0.03,0.01));b*=1.0-a(r+vec2(0.03,0.03),vec2(0.02,0.01));b*=1.0-a(r+vec2(-0.03,0.03),vec2(0.02,0.01));b*=1.0-0.6*a(r,vec2(0.01,0.02));b+=l*a(r+vec2(0.0,o),vec2(0.07,0.1+o));b+=q*(l+k)*a(s-vec2(-0.2+0.01*cos(5.0*pt),0.45-0.1*j.y*step(0.0,pt)*P*pow(abs(sin(8.0*pt*(1.0+0.2*cos(pt)))),4.0)),vec2(0.055,0.05));b+=q*(l+k)*a(s-vec2(0.2+0.01*cos(5.0*pt),0.45-0.1*j.x*step(2.0,pt)*P*pow(abs(cos(7.0*pt)),4.0)),vec2(0.055,0.05));b+=step(b.a,0.0)*(l+k)*d(r-vec2(0.0,0.10+0.02*n),vec2(0.05-0.01*n,0.03),4.0);vec2 t=vec2(0.16+0.04*sin(9.*e),0.27+0.02*cos(9.*e));b+=step(b.r+b.g+b.b,0.0)*m*step(1.0,d(r-vec2(0.0,0.35),t*(1.0-0.1*n),4.0)+a(r-vec2(0.0,0.35),t));return b;}void main(){float u=0.6+0.4*smoothstep(2.0,0.0,distance(pt,-2.0));vec4 b=vec4(0.0);b+=(1.0-smoothstep(-0.0,-5.0,pt))*h(pl+step(pt,0.0),-0.6*smoothstep(-1.,-5.,pt));b+=step(1.0,pl)*h(pl+step(pt,0.0)-1.0,2.0*smoothstep(-4.,-1.,pt));b*=1.0-1.3*distance(uv,vec2(0.5));gl_FragColor=vec4(u*mix(g(),b.rgb,clamp(b.a,0.0,1.0)),1.0);}");Pt.uniform1f(l(Jt,"S"),Ft);for(var Vt,zt,Qt,Zt,$t,te,ee,re=f(It,"precision highp float;varying vec2 uv;uniform sampler2D G;uniform sampler2D R;uniform sampler2D B;uniform sampler2D L;uniform sampler2D E;uniform float s;uniform float F;uniform vec2 k;float a(vec2 b,vec2 c){float d=10.0;vec2 e=b-c;return pow(abs(pow(abs(e.x),d)+pow(abs(e.y),d)),1.0/d);}void main(){vec2 f=uv+k;vec2 g=(f/0.98)-0.01;float h=a(f,vec2(0.5));float i=smoothstep(0.45,0.51,h);g=mix(g,vec2(0.5),0.2*(0.6-h)-0.02*h);vec3 j=texture2D(G,g).rgb;gl_FragColor=step(0.0,f.x)*step(f.x,1.0)*step(0.0,f.y)*step(f.y,1.0)*vec4((vec3(0.03+0.1*F,0.04,0.05)+mix(vec3(0.05,0.1,0.15)-j,2.0*j,s)+s*(texture2D(L,g).rgb+vec3(0.3+F,0.6,1.0)*(texture2D(R,g).rgb+3.0*texture2D(B,g).rgb)+0.5*texture2D(E,g).rgb))*mix(1.0,smoothstep(1.0,0.0,i),0.6),1.0);}"),ae=p(),oe=p(),ne=p(),ie=p(),se=p(),fe=p(),ce=v(),he=0,le=[_t/2,Gt/2,0,0,0],ue=[],ve=[],me=[],Me=[],de=[],pe=0,Ee=0,ge=0,Ae=0,be=-1e4,Te=0,Re=0,Se=0,xe=0,Ie=0,Pe=0,De=0,ye=0,ke=[0,0],we=0,Le=0,Ne=0,Oe=0,_e=0,Ge=0,Ce=0,Fe=0,Ue=0,Be=0,Ye=0,He=0,We=1,Xe=1,qe=0,Ke=localStorage.ba_pl&&parseInt(localStorage.ba_pl),je=0,Je=0,Ve=0,ze=0,Qe=0,Ze={},$e=At([0,.06,.18,.33,.5,.23,-.04,-.24,-.02,.37,-.22,.8,.3]),tr=At([,.12,.13,.16,.7,.5]),er=At([,.12,.13,.165,.7,.5]),rr=At([3,.35,.5369,.5,.15,-.02,-.7444,.78,.7619,.1,.5]),ar=At([3,.38,.5369,.52,.18,-.02,-.7444,.78,.7619,.1,.5]),or=At([2,.07,.04,.24,.25,.34,-.1999,-.02,.3187,-.14,.04,.85,.28,.63,.5]),nr=At([1,.04,.45,.14,.06,-.06,.02,.87,.95,-.02,.319,-.14,.04,.5,.4]),ir=At([0,.11,.37,.92,.15,-.06,-.04,.3,.14,.1,.5047,.16,-.02,.5,1]),sr=At([0,.11,.36,.66,.19,.06,-.06,.05,.8,-.12,.3,.19,-.06,-.02,.23,-.02,.4,.4]),fr=At([0,.094,.29,.42,.563,.4399,.5658,1,.5]),cr=At([2,.07,.1,.2,.75,.35,-.1,.12,-.02,-.06,-.0377,.26,.8,.7]),hr=At([2,.05,.74,.33,.5,.46,.29,1,.3]),lr=At([0,.12,.8,.48,.77,.92,-.12,-.0999,-.4,.2,.34,.65,.93,-.02,.38]),ur=At([3,.12,.56,.27,.07,-.12,.02,-.02,.68,-.04,-.022,.06,.06,.5]),vr=0;vr<99;++vr)Ze[vr]=0;var mr=0;ut?addEventListener("touchstart",function(t){t.preventDefault(),I(t.changedTouches[0])}):(addEventListener("click",function(t){t.preventDefault(),I(t)}),addEventListener("keydown",function(t){Ze[t.which]=1}),addEventListener("keyup",function(t){Ze[t.which]=0}));var Mr,dr,pr,Er,vt=vt||{};vt.exports=N;for(var gr=0,Ar=[],br=0;br<26;br++)Ar.push(65+br);Ar.sort(function(){return Math.random()-.5});var Tr,Rr,Sr=[[8,0],[7,5],[0,9],[7,14]],xr=[[15,14],[22,9],[15,5],[14,0]],Ir=Sr.concat(xr).concat(Sr).concat([,]).concat(xr).concat([,[7,5],[15,5],[0,9],[22,9]]),Pr=[[[-11,-11],[4,-13],[6,-6],[14,0],[14,8],[6,8],[-6,14],[-14,0]],[[-8,13],[0,-13],[8,13],[0,11],[-8,13],[-10,-2],[10,2],[10,-2],[-10,2]],Ir.map(function(t){return t?[t[0]-11,t[1]-7]:t})],Dr=0;O(),
requestAnimationFrame(it),lt&&addEventListener("resize",function(){be=-1,Ke=0,Re++,Me=[],console.log("player=",Re)});var yr,kr=-9999}();